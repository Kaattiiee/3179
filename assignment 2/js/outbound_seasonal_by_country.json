{
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "width": 400,
    "height": 225,
    "title": {
        "text": "Seasonal Pattern of Tourists by Country (Jul 2017 - Jul 2025)",
        "fontSize": 16,
        "dy": -20
    },
    "background": "rgb(247, 245, 245)", 
    "config": {
        "view": {
            "fill": "rgb(247, 245, 245)",
            "stroke": "transparent"
        }
    },
    "data": {
        "url": "https://kaattiiee.github.io/3179/assignment%202/datasets/outbound_seasonal.csv"
    },
    "selection": {
        "SeasonFilter": {
            "type": "multi",
            "fields": ["season"],
            "bind": "legend"
        }
    },
    "mark": "bar",
    "encoding": {
        "x": {
            "field": "country",
            "type": "nominal",
            "title": "Country",
            "axis": {"labelAngle": -45},
            "sort": "-y"
        },
        "y": {
            "field": "num_tourists_k",
            "type": "quantitative",
            "title": "Total Number of Tourists"
        },
        "color": {
            "field": "season",
            "type": "nominal",
            "title": "Season",
            "scale": {
                "domain": ["Summer", "Autumn", "Winter", "Spring"],
                "range": ["#f4a261", "#2a9d8f", "#264653", "#e9c46a"]
            }
        },
        "tooltip": [
            {"field": "country", "type": "nominal"},
            {"field": "season", "type": "nominal"},
            {"field": "num_tourists_k","type": "quantitative", "format": ",.2f",
                "title": "number of tourists (000)"}
        ]
    },
    "transform": [
        {"filter": {"selection": "SeasonFilter"}}
    ]
}